{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport PelfDetail from '../../view/pelf/PelfDetail.vue';\nimport pelfApi from '@/config/pelf/pelfapi';\nimport ListPelf from '../../view/pelf/ListPelf.vue';\nimport MDropdown from '@/components/base/MDropdown.vue';\nimport MAlert from '@/components/base/Malert.vue';\nimport MNotification from '@/components/base/MNotification.vue';\nexport default {\n  components: {\n    PelfDetail,\n    ListPelf,\n    MDropdown,\n    MAlert,\n    MNotification\n  },\n  created() {\n    this.$eventBus.on(\"isResize\", data => {\n      this.isResize = data;\n    });\n    //lấy danh sách cần xóa \n    this.$eventBus.on(\"listCodeDelete\", data => {\n      this.listDelete = data;\n    });\n  },\n  methods: {\n    /**\r\n     * đóng cảnh báo  \r\n     * thực hiện xóa nhiều \r\n     * Author:PXTRUONG(24/05/2023)\r\n     */\n    async closeAlert(isAllowDelete) {\n      try {\n        var listData = [];\n        if (isAllowDelete) {\n          this.listDelete.forEach(element => {\n            listData.push({\n              \"recordecode\": element\n            });\n          });\n          listData = JSON.stringify(listData);\n          // console.log(listData);\n          // await fetch(pelfApi.api + \"?recodecode=\" + listData, {\n          //     method: 'DELETE',\n          // })\n          //     .then((res) => res.json())\n          //     .then((data) => {\n          //         console.log(data);\n          //     });\n        }\n\n        this.isShowAlert = false;\n      } catch (error) {}\n    },\n    /**\r\n      * hiện chi tiết tài sản \r\n      * Author:PXTRUONG(24/05/2023)\r\n      */\n    showPelfDetail(data, formMode) {\n      this.fromMode = formMode;\n      this.pelfDetail = data;\n      this.isShow = true;\n    },\n    /**\r\n     * đóng chi tiết tài sản \r\n     * Author:PXTRUONG(24/05/2023)\r\n     */\n    closePelfDetail() {\n      this.isShow = false;\n    },\n    /**\r\n     * Author:PXTRUONG(6/6/2023)\r\n     * thực hiện xóa nhiều \r\n     */\n    deleteMuntiple() {\n      this.isShowAlert = true;\n      console.log(this.listDelete);\n    }\n  },\n  data() {\n    return {\n      data: [],\n      isShow: false,\n      pelfDetail: null,\n      isResize: false,\n      listDelete: [],\n      isShowAlert: false,\n      fromMode: null,\n      isShoNotify: false\n    };\n  }\n};","map":{"version":3,"names":["PelfDetail","pelfApi","ListPelf","MDropdown","MAlert","MNotification","components","created","$eventBus","on","data","isResize","listDelete","methods","closeAlert","isAllowDelete","listData","forEach","element","push","JSON","stringify","isShowAlert","error","showPelfDetail","formMode","fromMode","pelfDetail","isShow","closePelfDetail","deleteMuntiple","console","log","isShoNotify"],"sources":["C:\\Users\\Admin\\Desktop\\Web-04-PXTRUONG\\web-04-vue\\web202304\\pxtruong\\vue\\src\\components\\view\\pelf\\PelfBody.vue"],"sourcesContent":["<template>\r\n    <div class=\"body\" :class=\"{ 'resize__body': isResize }\">\r\n        <div class=\"body__header\">\r\n            <div class=\"body__header--left\">\r\n                <div class=\"body__header--inputsearch\">\r\n                    <div class=\"icon body__icon--search\"> </div>\r\n                    <input class=\"input__field popup__input  unset__margin  input__padding--30px \"\r\n                        placeholder=\"Tìm kiếm tài sản \">\r\n                </div>\r\n                <div class=\"body__header--asset\">\r\n                    <div class=\"icon body__icon--filter\"> </div>\r\n                    <input class=\"input__field popup__input popup__input--icon unset__margin  input__padding--30px\"\r\n                        placeholder=\"Loại tài sản \">\r\n\r\n                </div>\r\n\r\n\r\n                <div class=\"body__header--tool\">\r\n                    <div class=\"icon body__icon--filter \"> </div>\r\n                    <input class=\"input__field popup__input popup__input--icon unset__margin input__padding--30px \"\r\n                        placeholder=\"Bộ phận sửa dụng \">\r\n                </div>\r\n\r\n                <!-- <div class=\"body__header--leftcontainer\">\r\n                    <m-dropdown icon-dropdown=\"body__icon--filter\"></m-dropdown>\r\n                </div>\r\n                <div class=\"body__header--leftcontainer\">\r\n                    <m-dropdown icon-dropdown=\"body__icon--filter\"></m-dropdown>\r\n                </div>\r\n                <div class=\"body__header--leftcontainer\">\r\n                    <m-dropdown icon-dropdown=\"body__icon--filter\"></m-dropdown>\r\n                </div> -->\r\n            </div>\r\n            <div class=\"body__header--right\">\r\n                <button class=\" button button--blue button__icon button__icon--plus\"\r\n                    @click=\"showPelfDetail({}, this.$_MFormMode.AddAsset)\">\r\n                    Thêm tài sản\r\n                </button>\r\n                <div class=\"icon body__header--iconexcel icon__boxshadow\" title=\"Xuất excel\"></div>\r\n                <div class=\"icon body__header--icondelete icon__boxshadow\" title=\"Xóa hết \" @click=\"deleteMuntiple\"></div>\r\n            </div>\r\n        </div>\r\n\r\n        <list-pelf @showDetail=\"showPelfDetail\"></list-pelf>\r\n    </div>\r\n    <m-alert v-if=\"isShowAlert\" :is-delete=\"true\" :list-delete=\"this.listDelete\" @close=\"closeAlert\">\r\n\r\n    </m-alert>\r\n    <m-notification v-if=\"this.isShoNotify\"></m-notification>\r\n\r\n    <pelf-detail v-if=\"this.isShow\" @hiddePolfDetail=\"closePelfDetail\" :pelf=\"this.pelfDetail\" :formMode=\"this.fromMode\">\r\n\r\n    </pelf-detail>\r\n</template>\r\n<script>\r\nimport PelfDetail from '../../view/pelf/PelfDetail.vue';\r\nimport pelfApi from '@/config/pelf/pelfapi';\r\nimport ListPelf from '../../view/pelf/ListPelf.vue';\r\nimport MDropdown from '@/components/base/MDropdown.vue';\r\nimport MAlert from '@/components/base/Malert.vue';\r\nimport MNotification from '@/components/base/MNotification.vue';\r\nexport default {\r\n    components: {\r\n        PelfDetail,\r\n        ListPelf,\r\n        MDropdown,\r\n        MAlert,\r\n        MNotification\r\n    },\r\n    created() {\r\n        this.$eventBus.on(\"isResize\", (data) => {\r\n            this.isResize = data\r\n        });\r\n        //lấy danh sách cần xóa \r\n        this.$eventBus.on(\"listCodeDelete\", (data) => {\r\n            this.listDelete = data;\r\n\r\n        });\r\n\r\n    },\r\n    methods: {\r\n        /**\r\n         * đóng cảnh báo  \r\n         * thực hiện xóa nhiều \r\n         * Author:PXTRUONG(24/05/2023)\r\n         */\r\n        async closeAlert(isAllowDelete) {\r\n            try {\r\n                var listData = [];\r\n\r\n                if (isAllowDelete) {\r\n\r\n                    this.listDelete.forEach(element => {\r\n                        listData.push({ \"recordecode\": element })\r\n                    });\r\n                    listData = JSON.stringify(listData);\r\n                    // console.log(listData);\r\n                    // await fetch(pelfApi.api + \"?recodecode=\" + listData, {\r\n                    //     method: 'DELETE',\r\n                    // })\r\n                    //     .then((res) => res.json())\r\n                    //     .then((data) => {\r\n                    //         console.log(data);\r\n                    //     });\r\n                }\r\n\r\n\r\n                this.isShowAlert = false\r\n            } catch (error) {\r\n\r\n            }\r\n        },\r\n        /**\r\n          * hiện chi tiết tài sản \r\n          * Author:PXTRUONG(24/05/2023)\r\n          */\r\n        showPelfDetail(data, formMode) {\r\n            this.fromMode = formMode\r\n            this.pelfDetail = data;\r\n            this.isShow = true;\r\n        },\r\n        /**\r\n         * đóng chi tiết tài sản \r\n         * Author:PXTRUONG(24/05/2023)\r\n         */\r\n        closePelfDetail() {\r\n            this.isShow = false;\r\n        },\r\n        /**\r\n         * Author:PXTRUONG(6/6/2023)\r\n         * thực hiện xóa nhiều \r\n         */\r\n        deleteMuntiple() {\r\n            this.isShowAlert = true\r\n            console.log(this.listDelete);\r\n        }\r\n    },\r\n    data() {\r\n        return {\r\n            data: [],\r\n            isShow: false,\r\n            pelfDetail: null,\r\n            isResize: false,\r\n            listDelete: [],\r\n            isShowAlert: false,\r\n            fromMode: null,\r\n            isShoNotify: false\r\n        }\r\n    },\r\n}\r\n</script>\r\n<style scoped>\r\n@import url(../../../style/base/textfield.css);\r\n@import url(../../../style/base/icon.css);\r\n@import url(../../../style/base/button.css);\r\n@import url(../../../style/base/table.css);\r\n\r\n.resize__body {\r\n    width: calc(100% - 68px);\r\n}\r\n</style>"],"mappings":";AAuDA,OAAOA,UAAS,MAAO,gCAAgC;AACvD,OAAOC,OAAM,MAAO,uBAAuB;AAC3C,OAAOC,QAAO,MAAO,8BAA8B;AACnD,OAAOC,SAAQ,MAAO,iCAAiC;AACvD,OAAOC,MAAK,MAAO,8BAA8B;AACjD,OAAOC,aAAY,MAAO,qCAAqC;AAC/D,eAAe;EACXC,UAAU,EAAE;IACRN,UAAU;IACVE,QAAQ;IACRC,SAAS;IACTC,MAAM;IACNC;EACJ,CAAC;EACDE,OAAOA,CAAA,EAAG;IACN,IAAI,CAACC,SAAS,CAACC,EAAE,CAAC,UAAU,EAAGC,IAAI,IAAK;MACpC,IAAI,CAACC,QAAO,GAAID,IAAG;IACvB,CAAC,CAAC;IACF;IACA,IAAI,CAACF,SAAS,CAACC,EAAE,CAAC,gBAAgB,EAAGC,IAAI,IAAK;MAC1C,IAAI,CAACE,UAAS,GAAIF,IAAI;IAE1B,CAAC,CAAC;EAEN,CAAC;EACDG,OAAO,EAAE;IACL;;;;;IAKA,MAAMC,UAAUA,CAACC,aAAa,EAAE;MAC5B,IAAI;QACA,IAAIC,QAAO,GAAI,EAAE;QAEjB,IAAID,aAAa,EAAE;UAEf,IAAI,CAACH,UAAU,CAACK,OAAO,CAACC,OAAM,IAAK;YAC/BF,QAAQ,CAACG,IAAI,CAAC;cAAE,aAAa,EAAED;YAAQ,CAAC;UAC5C,CAAC,CAAC;UACFF,QAAO,GAAII,IAAI,CAACC,SAAS,CAACL,QAAQ,CAAC;UACnC;UACA;UACA;UACA;UACA;UACA;UACA;UACA;QACJ;;QAGA,IAAI,CAACM,WAAU,GAAI,KAAI;MAC3B,EAAE,OAAOC,KAAK,EAAE,CAEhB;IACJ,CAAC;IACD;;;;IAIAC,cAAcA,CAACd,IAAI,EAAEe,QAAQ,EAAE;MAC3B,IAAI,CAACC,QAAO,GAAID,QAAO;MACvB,IAAI,CAACE,UAAS,GAAIjB,IAAI;MACtB,IAAI,CAACkB,MAAK,GAAI,IAAI;IACtB,CAAC;IACD;;;;IAIAC,eAAeA,CAAA,EAAG;MACd,IAAI,CAACD,MAAK,GAAI,KAAK;IACvB,CAAC;IACD;;;;IAIAE,cAAcA,CAAA,EAAG;MACb,IAAI,CAACR,WAAU,GAAI,IAAG;MACtBS,OAAO,CAACC,GAAG,CAAC,IAAI,CAACpB,UAAU,CAAC;IAChC;EACJ,CAAC;EACDF,IAAIA,CAAA,EAAG;IACH,OAAO;MACHA,IAAI,EAAE,EAAE;MACRkB,MAAM,EAAE,KAAK;MACbD,UAAU,EAAE,IAAI;MAChBhB,QAAQ,EAAE,KAAK;MACfC,UAAU,EAAE,EAAE;MACdU,WAAW,EAAE,KAAK;MAClBI,QAAQ,EAAE,IAAI;MACdO,WAAW,EAAE;IACjB;EACJ;AACJ"},"metadata":{},"sourceType":"module","externalDependencies":[]}